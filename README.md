
## **6. Етапи виконання**

Проект потрібно буде реалізувати поетапно, щоб структурувати процес розробки та
забезпечити послідовне виконання всіх вимог.
Кожен етап включає ключові завдання та передбачає проміжну перевірку.

### **Етап 1. Підготовка оточення та структури проекту**

1. Встановити необхідні інструменти:

   - Docker та Docker Compose.
   - Python 3.12 або вище.

2. Налаштувати базову структуру проекту:
  ```
  project/
  ├── app.py                # Основний Python-бекенд
  ├── requirements.txt      # Залежності Python
  ├── Dockerfile            # Dockerfile для Python-бекенду
  ├── docker-compose.yml    # Конфігурація Docker Compose
  ├── nginx.conf            # Конфігурація Nginx
  ├── images/               # Папка для зберігання завантажених зображень (volume)
  ├── logs/                 # Папка для логів (volume)
  └── static/               # Додаткові статичні файли (CSS/JS, якщо застосовно)
  ```

3. Створити та протестувати віртуальне оточення Python:
   - Переконатися, що всі залежності, вказані в `requirements.txt`, встановлюються коректно.

------

### **Етап 2. Розробка Python-бекенду**

1. Реалізувати базовий HTTP-сервер з маршрутами:
   - `GET /`: повертає вітальне повідомлення.
   - `POST /upload`: обробляє завантаження файлів.
2. Додати функціонал:
   - Перевірка формату файлу (`.jpg`, `.png`, `.gif`).
   - Перевірка розміру файлу (не більше 5 МБ).
   - Генерація унікального імені для кожного зображення.
   - Збереження зображень у папку `/images`.
   - Повернення посилання на завантажене зображення.
3. Налаштувати логування:
   - Створити файл `app.log` для запису дій (успішних та помилкових).
   - Логи мають містити дату, час, дію та деталі.
4. Протестувати роботу бекенду локально, без Docker.

------

### **Етап 3. Налаштування Nginx**

1. Написати конфігурацію nginx.conf:
   - Налаштувати роздачу файлів з папки `/images`.
   - Налаштувати проксування запитів до Python-бекенду для маршрутів, не пов'язаних із зображеннями.

2. Протестувати конфігурацію локально:
  - Переконатися, що запити на `/images/<ім'я_файлу>` повертають статичні файли.
  - Переконатися, що запити на інші маршрути перенаправляються на Python-бекенд.

------

### **Етап 4. Контейнеризація**

1. Створити Dockerfile для Python-бекенду:
   - Реалізувати `multi-stage build`, щоб зменшити розмір образу.
   - Переконатися, що всі залежності встановлюються коректно.

2. Налаштувати Docker Compose:
   - Створити файл `compose.yaml`.
   - Додати два сервіси:
       - `app` для Python-бекенду.
       - `nginx` для Nginx-сервера.
   - Налаштувати volume:
       - `images` для зберігання завантажених файлів.
       - `logs` для запису логів.
   - Налаштувати мережу для взаємодії контейнерів.

3. Протестувати запуск контейнерів:
   - Переконатися, що сервіси запускаються командою:
    ```bash
    docker compose up --build
    ```
   - Перевірити доступність бекенду (`http://localhost:8000`) та статичних файлів (`http://localhost:8080/images/<ім'я_файлу>`).

------

### **Етап 5. Тестування функціональності**

1. Перевірити завантаження зображень:
   - завантажити зображення різних форматів та розмірів.
   - перевірити генерацію унікальних імен та збереження файлів у папці `/images`.
2. Перевірити обробку помилок:
   - спроба завантаження непідтримуваного формату.
   - спроба завантаження файлу, що перевищує ліміт розміру.
3. Перевірити роздачу файлів через Nginx:
   - доступ до завантажених зображень через маршрут `/images/<ім'я_файлу>`.
4. Перевірити логування:
   - переконатися, що всі дії записуються в лог-файл `app.log`.

------

### **Етап 6. Документація**

1. Написати інструкцію з розгортання проекту:
   - Кроки для запуску за допомогою Docker Compose.
   - Опис структури проекту та функціональності.
2. Додати опис ключових маршрутів API.

------

### **Етап 7. Підготовка до здачі**

1. Переконатися, що:
   - всі функціональні та нефункціональні вимоги виконано.
   - система успішно запускається через Docker Compose.
   - всі тести пройдено.
2. Упакувати проект:
   - архівувати файли проекту.
   - підготувати README з коротким описом та інструкцією.

------
